doctype html
html(lang="en" class="h-full")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Products
    link(rel="stylesheet", href="/styles/output.css")
  body(class="min-h-full bg-slate-50 text-slate-800")
    // Header
    header(class=" bg-white")
      div(class="mx-auto max-w-6xl px-4 py-6 text-center")
        h1(class="text-3xl md:text-4xl font-bold tracking-wider") Products


    // Content
    main(class="mx-auto max-w-6xl px-4 py-8")
      if !products || products.length === 0
        // Empty state
        div(class="rounded-2xl border border-dashed bg-white p-10 text-center")
          h2(class="text-lg font-semibold") No products yet
          p(class="text-slate-500 mt-1") Please check back later.
      else
        // Controls
        div(class="mb-6 flex flex-col gap-3 md:flex-row md:items-center md:justify-between")
          div(class="flex items-center gap-2")
            span(class="inline-flex items-center rounded-full border px-3 py-1 text-xs")= products.length + ' items'
      

        // Grid of product cards
        ul(class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3")
          each product in products
            li
              article(class="group relative overflow-hidden rounded-2xl bg-white shadow-sm ring-1 ring-slate-200 transition hover:shadow-md")
                // Banner
                div(class="h-36 bg-gradient-to-br from-blue-500/90 to-indigo-600/90")
                  span(class="absolute right-3 top-3 inline-flex items-center rounded-full bg-white/95 px-3 py-1 text-xs font-semibold shadow")
                    | $
                    = (typeof product.price === 'number' ? product.price.toFixed(2) : product.price)

                // Body
                div(class="p-5")
                  h3(class="text-lg font-semibold leading-snug truncate")= product.name
                  p(class="text-xs text-slate-500 mt-0.5") ID: #{product.id}
                  p(class="mt-3 text-sm text-slate-600 overflow-hidden")
                    span(class="block max-h-14 md:max-h-16 overflow-hidden")= product.description

                  // Actions
                  div(class="mt-5 flex items-center gap-2")
                    a(
                      href=`/products/${product.id}`
                      class="inline-flex items-center justify-center rounded-xl bg-blue-600 px-4 py-2 text-sm font-medium text-white transition hover:bg-blue-700 focus:outline-none focus:ring focus:ring-blue-200"
                    ) View details
                    button(
                      type="button"
                      class="inline-flex items-center justify-center rounded-xl border px-4 py-2 text-sm font-medium transition hover:bg-slate-50 focus:outline-none focus:ring focus:ring-slate-200"
                    ) Add to cart

                // Focus overlay
                a(
                  href=`/products/${product.id}`
                  class="absolute inset-0 outline-none focus:ring-2 focus:ring-blue-400"
                  aria-label=`Open ${product.name}`
                )

    // Footer
    footer(class="mx-auto max-w-6xl px-4 py-8 text-center text-xs text-slate-500")
      | Â© #{new Date().getFullYear()} Your Store
